<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Setup="clr-namespace:GuiWpf.ViewModels.Setup">

    <DataTemplate x:Key="PlayerSetupViewModelTemplate" DataType="{x:Type Setup:PlayerSetupViewModel}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <CheckBox x:Name="isEnabledCheckBox" IsChecked="{Binding IsEnabled}" />
            <TextBlock Grid.Column="1" Text="{Binding Name}" IsEnabled="{Binding IsChecked, ElementName=isEnabledCheckBox}" />
            <ComboBox Grid.Column="2" SelectedItem="{Binding PlayerSetupType}" IsEnabled="{Binding IsChecked, ElementName=isEnabledCheckBox}" />
        </Grid>
    </DataTemplate>

    <DataTemplate DataType="{x:Type Setup:GameSetupViewModel}">
        <Grid>
            <ItemsControl
                ItemsSource="{Binding Players}"
                ItemTemplate="{StaticResource PlayerSetupViewModelTemplate}" />
        </Grid>
    </DataTemplate>

</ResourceDictionary>